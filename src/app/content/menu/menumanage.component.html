<div class="ui-fluid">
  <div class="ui-g" id='main'>
    <div class="ui-g-12 ui-sm-12 buttons" >
      <button type="button" label="添加" *ngIf="controlAuth.add" pButton icon="fa-plus" class="pc-button-small" (click)="operations('menuadd',0)"></button>
    </div>
    <div class="body-content">
      <div class="card" [ngStyle]="flowStyle">
        <div class="table-autoFlow-x">
          <p-treeTable [value]="menus" styleClass = 'minWidth800'>
            <p-column field="name" header="菜单名称" bodyStyleClass="scale30 text-left" headerStyleClass="scale30"></p-column>
            <p-column field="root" header="路由地址"></p-column>
            <p-column field="icon" header="菜单图标"></p-column>
            <p-column field="type" header="类型" bodyStyleClass="text-center width100" headerStyleClass="width100">
              <ng-template let-menu="rowData" let-i="rowIndex" pTemplate="body">
                <span *ngIf="!menu.data.type" class="color-green">父级</span>
                <span *ngIf="menu.data.type" class="color-red">末级</span>
              </ng-template>
            </p-column>
            <p-column field="sort" header="同级顺序" bodyStyleClass="text-center width100" headerStyleClass="width100"></p-column>
            <p-column header="操作" [style]="{'width':controlAuth.number + 'px'}" bodyStyleClass="operation width150">
              <ng-template let-menu="rowData" let-i="rowIndex" pTemplate="body">
                <span>
                  <a  href="javascript:void(0)" *ngIf="controlAuth.add" [ngClass]="{'disable-a':menu.data.type}" (click)="operations('menuadd',menu.data.id)">添加下级</a>
                  <a  href="javascript:void(0)" *ngIf="controlAuth.edit" (click)="operations('menuedit',menu.data.id)">编辑</a>
                  <a  href="javascript:void(0)" *ngIf="controlAuth.delete" (click) = 'delete(menu)'>删除</a>
                </span>
              </ng-template>
            </p-column>
          </p-treeTable>
        </div>
      </div>
    </div>
  </div>
</div>

